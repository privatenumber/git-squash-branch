#!/usr/bin/env node
"use strict";var Yu=require("buffer"),eD=require("path"),DD=require("child_process"),tD=require("process"),nD=require("fs"),rD=require("url"),su=require("os"),oD=require("assert"),iD=require("events"),aD=require("stream"),sD=require("util"),cD=require("tty"),lD=require("prompts"),fD=require("tasuku");function w(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var dD=w(Yu),S=w(eD),cu=w(DD),x=w(tD),lu=w(nD),FD=w(rD),Ju=w(su),CD=w(oD),ED=w(iD),fu=w(aD),pD=w(sD),Xu=w(cD),mD=w(lD),H=w(fD),T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L={exports:{}},du,Zu;function hD(){if(Zu)return du;Zu=1,du=t,t.sync=n;var u=lu.default;function e(r,o){var i=o.pathExt!==void 0?o.pathExt:process.env.PATHEXT;if(!i||(i=i.split(";"),i.indexOf("")!==-1))return!0;for(var a=0;a<i.length;a++){var s=i[a].toLowerCase();if(s&&r.substr(-s.length).toLowerCase()===s)return!0}return!1}function D(r,o,i){return!r.isSymbolicLink()&&!r.isFile()?!1:e(o,i)}function t(r,o,i){u.stat(r,function(a,s){i(a,a?!1:D(s,r,o))})}function n(r,o){return D(u.statSync(r),r,o)}return du}var Fu,Qu;function gD(){if(Qu)return Fu;Qu=1,Fu=e,e.sync=D;var u=lu.default;function e(r,o,i){u.stat(r,function(a,s){i(a,a?!1:t(s,o))})}function D(r,o){return t(u.statSync(r),o)}function t(r,o){return r.isFile()&&n(r,o)}function n(r,o){var i=r.mode,a=r.uid,s=r.gid,l=o.uid!==void 0?o.uid:process.getuid&&process.getuid(),f=o.gid!==void 0?o.gid:process.getgid&&process.getgid(),c=parseInt("100",8),d=parseInt("010",8),F=parseInt("001",8),m=c|d,y=i&F||i&d&&s===f||i&c&&a===l||i&m&&l===0;return y}return Fu}var Z;process.platform==="win32"||T.TESTING_WINDOWS?Z=hD():Z=gD();var BD=Cu;Cu.sync=yD;function Cu(u,e,D){if(typeof e=="function"&&(D=e,e={}),!D){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(t,n){Cu(u,e||{},function(r,o){r?n(r):t(o)})})}Z(u,e||{},function(t,n){t&&(t.code==="EACCES"||e&&e.ignoreErrors)&&(t=null,n=!1),D(t,n)})}function yD(u,e){try{return Z.sync(u,e||{})}catch(D){if(e&&e.ignoreErrors||D.code==="EACCES")return!1;throw D}}const N=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ue=S.default,bD=N?";":":",ee=BD,De=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),te=(u,e)=>{const D=e.colon||bD,t=u.match(/\//)||N&&u.match(/\\/)?[""]:[...N?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(D)],n=N?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",r=N?n.split(D):[""];return N&&u.indexOf(".")!==-1&&r[0]!==""&&r.unshift(""),{pathEnv:t,pathExt:r,pathExtExe:n}},ne=(u,e,D)=>{typeof e=="function"&&(D=e,e={}),e||(e={});const{pathEnv:t,pathExt:n,pathExtExe:r}=te(u,e),o=[],i=s=>new Promise((l,f)=>{if(s===t.length)return e.all&&o.length?l(o):f(De(u));const c=t[s],d=/^".*"$/.test(c)?c.slice(1,-1):c,F=ue.join(d,u),m=!d&&/^\.[\\\/]/.test(u)?u.slice(0,2)+F:F;l(a(m,s,0))}),a=(s,l,f)=>new Promise((c,d)=>{if(f===n.length)return c(i(l+1));const F=n[f];ee(s+F,{pathExt:r},(m,y)=>{if(!m&&y)if(e.all)o.push(s+F);else return c(s+F);return c(a(s,l,f+1))})});return D?i(0).then(s=>D(null,s),D):i(0)},wD=(u,e)=>{e=e||{};const{pathEnv:D,pathExt:t,pathExtExe:n}=te(u,e),r=[];for(let o=0;o<D.length;o++){const i=D[o],a=/^".*"$/.test(i)?i.slice(1,-1):i,s=ue.join(a,u),l=!a&&/^\.[\\\/]/.test(u)?u.slice(0,2)+s:s;for(let f=0;f<t.length;f++){const c=l+t[f];try{if(ee.sync(c,{pathExt:n}))if(e.all)r.push(c);else return c}catch{}}}if(e.all&&r.length)return r;if(e.nothrow)return null;throw De(u)};var AD=ne;ne.sync=wD;var Eu={exports:{}};const re=(u={})=>{const e=u.env||process.env;return(u.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(t=>t.toUpperCase()==="PATH")||"Path"};Eu.exports=re,Eu.exports.default=re;const oe=S.default,vD=AD,$D=Eu.exports;function ie(u,e){const D=u.options.env||process.env,t=process.cwd(),n=u.options.cwd!=null,r=n&&process.chdir!==void 0&&!process.chdir.disabled;if(r)try{process.chdir(u.options.cwd)}catch{}let o;try{o=vD.sync(u.command,{path:D[$D({env:D})],pathExt:e?oe.delimiter:void 0})}catch{}finally{r&&process.chdir(t)}return o&&(o=oe.resolve(n?u.options.cwd:"",o)),o}function SD(u){return ie(u)||ie(u,!0)}var xD=SD,pu={};const mu=/([()\][%!^"`<>&|;, *?])/g;function TD(u){return u=u.replace(mu,"^$1"),u}function RD(u,e){return u=`${u}`,u=u.replace(/(\\*)"/g,'$1$1\\"'),u=u.replace(/(\\*)$/,"$1$1"),u=`"${u}"`,u=u.replace(mu,"^$1"),e&&(u=u.replace(mu,"^$1")),u}pu.command=TD,pu.argument=RD;var OD=/^#!(.*)/;const ID=OD;var PD=(u="")=>{const e=u.match(ID);if(!e)return null;const[D,t]=e[0].replace(/#! ?/,"").split(" "),n=D.split("/").pop();return n==="env"?t:t?`${n} ${t}`:n};const hu=lu.default,_D=PD;function LD(u){const D=Buffer.alloc(150);let t;try{t=hu.openSync(u,"r"),hu.readSync(t,D,0,150,0),hu.closeSync(t)}catch{}return _D(D.toString())}var ND=LD;const jD=S.default,ae=xD,se=pu,GD=ND,MD=process.platform==="win32",kD=/\.(?:com|exe)$/i,qD=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function UD(u){u.file=ae(u);const e=u.file&&GD(u.file);return e?(u.args.unshift(u.file),u.command=e,ae(u)):u.file}function HD(u){if(!MD)return u;const e=UD(u),D=!kD.test(e);if(u.options.forceShell||D){const t=qD.test(e);u.command=jD.normalize(u.command),u.command=se.command(u.command),u.args=u.args.map(r=>se.argument(r,t));const n=[u.command].concat(u.args).join(" ");u.args=["/d","/s","/c",`"${n}"`],u.command=process.env.comspec||"cmd.exe",u.options.windowsVerbatimArguments=!0}return u}function WD(u,e,D){e&&!Array.isArray(e)&&(D=e,e=null),e=e?e.slice(0):[],D=Object.assign({},D);const t={command:u,args:e,options:D,file:void 0,original:{command:u,args:e}};return D.shell?t:HD(t)}var VD=WD;const gu=process.platform==="win32";function Bu(u,e){return Object.assign(new Error(`${e} ${u.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${u.command}`,path:u.command,spawnargs:u.args})}function KD(u,e){if(!gu)return;const D=u.emit;u.emit=function(t,n){if(t==="exit"){const r=ce(n,e);if(r)return D.call(u,"error",r)}return D.apply(u,arguments)}}function ce(u,e){return gu&&u===1&&!e.file?Bu(e.original,"spawn"):null}function zD(u,e){return gu&&u===1&&!e.file?Bu(e.original,"spawnSync"):null}var YD={hookChildProcess:KD,verifyENOENT:ce,verifyENOENTSync:zD,notFoundError:Bu};const le=cu.default,yu=VD,bu=YD;function fe(u,e,D){const t=yu(u,e,D),n=le.spawn(t.command,t.args,t.options);return bu.hookChildProcess(n,t),n}function JD(u,e,D){const t=yu(u,e,D),n=le.spawnSync(t.command,t.args,t.options);return n.error=n.error||bu.verifyENOENTSync(n.status,t),n}L.exports=fe,L.exports.spawn=fe,L.exports.sync=JD,L.exports._parse=yu,L.exports._enoent=bu;function XD(u){const e=typeof u=="string"?`
`:`
`.charCodeAt(),D=typeof u=="string"?"\r":"\r".charCodeAt();return u[u.length-1]===e&&(u=u.slice(0,-1)),u[u.length-1]===D&&(u=u.slice(0,-1)),u}function de(u={}){const{env:e=process.env,platform:D=process.platform}=u;return D!=="win32"?"PATH":Object.keys(e).reverse().find(t=>t.toUpperCase()==="PATH")||"Path"}function ZD(u={}){const{cwd:e=x.default.cwd(),path:D=x.default.env[de()],execPath:t=x.default.execPath}=u;let n;const r=e instanceof URL?FD.default.fileURLToPath(e):e;let o=S.default.resolve(r);const i=[];for(;n!==o;)i.push(S.default.join(o,"node_modules/.bin")),n=o,o=S.default.resolve(o,"..");return i.push(S.default.resolve(r,t,"..")),[...i,D].join(S.default.delimiter)}function QD({env:u=x.default.env,...e}={}){u={...u};const D=de({env:u});return e.path=u[D],u[D]=ZD(e),u}const ut=(u,e,D,t)=>{if(D==="length"||D==="prototype"||D==="arguments"||D==="caller")return;const n=Object.getOwnPropertyDescriptor(u,D),r=Object.getOwnPropertyDescriptor(e,D);!et(n,r)&&t||Object.defineProperty(u,D,r)},et=function(u,e){return u===void 0||u.configurable||u.writable===e.writable&&u.enumerable===e.enumerable&&u.configurable===e.configurable&&(u.writable||u.value===e.value)},Dt=(u,e)=>{const D=Object.getPrototypeOf(e);D!==Object.getPrototypeOf(u)&&Object.setPrototypeOf(u,D)},tt=(u,e)=>`/* Wrapped ${u}*/
${e}`,nt=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),rt=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ot=(u,e,D)=>{const t=D===""?"":`with ${D.trim()}() `,n=tt.bind(null,t,e.toString());Object.defineProperty(n,"name",rt),Object.defineProperty(u,"toString",{...nt,value:n})};function it(u,e,{ignoreNonConfigurable:D=!1}={}){const{name:t}=u;for(const n of Reflect.ownKeys(e))ut(u,e,n,D);return Dt(u,e),ot(u,e,t),u}const Q=new WeakMap,Fe=(u,e={})=>{if(typeof u!="function")throw new TypeError("Expected a function");let D,t=0;const n=u.displayName||u.name||"<anonymous>",r=function(...o){if(Q.set(r,++t),t===1)D=u.apply(this,o),u=null;else if(e.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return D};return it(r,u),Q.set(r,t),r};Fe.callCount=u=>{if(!Q.has(u))throw new Error(`The given function \`${u.name}\` is not wrapped by the \`onetime\` package`);return Q.get(u)};const at=function(){const u=Ee-Ce+1;return Array.from({length:u},st)},st=function(u,e){return{name:`SIGRT${e+1}`,number:Ce+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ce=34,Ee=64,ct=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],pe=function(){const u=at();return[...ct,...u].map(lt)},lt=function({name:u,number:e,description:D,action:t,forced:n=!1,standard:r}){const{signals:{[u]:o}}=su.constants,i=o!==void 0;return{name:u,number:i?o:e,description:D,supported:i,action:t,forced:n,standard:r}},ft=function(){return pe().reduce(dt,{})},dt=function(u,{name:e,number:D,description:t,supported:n,action:r,forced:o,standard:i}){return{...u,[e]:{name:e,number:D,description:t,supported:n,action:r,forced:o,standard:i}}},Ft=ft(),Ct=function(){const u=pe(),e=Ee+1,D=Array.from({length:e},(t,n)=>Et(n,u));return Object.assign({},...D)},Et=function(u,e){const D=pt(u,e);if(D===void 0)return{};const{name:t,description:n,supported:r,action:o,forced:i,standard:a}=D;return{[u]:{name:t,number:u,description:n,supported:r,action:o,forced:i,standard:a}}},pt=function(u,e){const D=e.find(({name:t})=>su.constants.signals[t]===u);return D!==void 0?D:e.find(t=>t.number===u)};Ct();const mt=({timedOut:u,timeout:e,errorCode:D,signal:t,signalDescription:n,exitCode:r,isCanceled:o})=>u?`timed out after ${e} milliseconds`:o?"was canceled":D!==void 0?`failed with ${D}`:t!==void 0?`was killed with ${t} (${n})`:r!==void 0?`failed with exit code ${r}`:"failed",me=({stdout:u,stderr:e,all:D,error:t,signal:n,exitCode:r,command:o,escapedCommand:i,timedOut:a,isCanceled:s,killed:l,parsed:{options:{timeout:f}}})=>{r=r===null?void 0:r,n=n===null?void 0:n;const c=n===void 0?void 0:Ft[n].description,d=t&&t.code,m=`Command ${mt({timedOut:a,timeout:f,errorCode:d,signal:n,signalDescription:c,exitCode:r,isCanceled:s})}: ${o}`,y=Object.prototype.toString.call(t)==="[object Error]",O=y?`${m}
${t.message}`:m,$=[O,e,u].filter(Boolean).join(`
`);return y?(t.originalMessage=t.message,t.message=$):t=new Error($),t.shortMessage=O,t.command=o,t.escapedCommand=i,t.exitCode=r,t.signal=n,t.signalDescription=c,t.stdout=u,t.stderr=e,D!==void 0&&(t.all=D),"bufferedData"in t&&delete t.bufferedData,t.failed=!0,t.timedOut=Boolean(a),t.isCanceled=s,t.killed=l&&!a,t},uu=["stdin","stdout","stderr"],ht=u=>uu.some(e=>u[e]!==void 0),gt=u=>{if(!u)return;const{stdio:e}=u;if(e===void 0)return uu.map(t=>u[t]);if(ht(u))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${uu.map(t=>`\`${t}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);const D=Math.max(e.length,uu.length);return Array.from({length:D},(t,n)=>e[n])};var j={exports:{}},wu={exports:{}},he;function Bt(){return he||(he=1,function(u){u.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&u.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&u.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(wu)),wu.exports}var p=T.process;const I=function(u){return u&&typeof u=="object"&&typeof u.removeListener=="function"&&typeof u.emit=="function"&&typeof u.reallyExit=="function"&&typeof u.listeners=="function"&&typeof u.kill=="function"&&typeof u.pid=="number"&&typeof u.on=="function"};if(!I(p))j.exports=function(){return function(){}};else{var yt=CD.default,W=Bt(),bt=/^win/i.test(p.platform),eu=ED.default;typeof eu!="function"&&(eu=eu.EventEmitter);var g;p.__signal_exit_emitter__?g=p.__signal_exit_emitter__:(g=p.__signal_exit_emitter__=new eu,g.count=0,g.emitted={}),g.infinite||(g.setMaxListeners(1/0),g.infinite=!0),j.exports=function(u,e){if(!I(T.process))return function(){};yt.equal(typeof u,"function","a callback must be provided for exit handler"),V===!1&&ge();var D="exit";e&&e.alwaysLast&&(D="afterexit");var t=function(){g.removeListener(D,u),g.listeners("exit").length===0&&g.listeners("afterexit").length===0&&Au()};return g.on(D,u),t};var Au=function(){!V||!I(T.process)||(V=!1,W.forEach(function(e){try{p.removeListener(e,vu[e])}catch{}}),p.emit=$u,p.reallyExit=Be,g.count-=1)};j.exports.unload=Au;var G=function(e,D,t){g.emitted[e]||(g.emitted[e]=!0,g.emit(e,D,t))},vu={};W.forEach(function(u){vu[u]=function(){if(!!I(T.process)){var D=p.listeners(u);D.length===g.count&&(Au(),G("exit",null,u),G("afterexit",null,u),bt&&u==="SIGHUP"&&(u="SIGINT"),p.kill(p.pid,u))}}}),j.exports.signals=function(){return W};var V=!1,ge=function(){V||!I(T.process)||(V=!0,g.count+=1,W=W.filter(function(e){try{return p.on(e,vu[e]),!0}catch{return!1}}),p.emit=At,p.reallyExit=wt)};j.exports.load=ge;var Be=p.reallyExit,wt=function(e){!I(T.process)||(p.exitCode=e||0,G("exit",p.exitCode,null),G("afterexit",p.exitCode,null),Be.call(p,p.exitCode))},$u=p.emit,At=function(e,D){if(e==="exit"&&I(T.process)){D!==void 0&&(p.exitCode=D);var t=$u.apply(this,arguments);return G("exit",p.exitCode,null),G("afterexit",p.exitCode,null),t}else return $u.apply(this,arguments)}}const vt=1e3*5,$t=(u,e="SIGTERM",D={})=>{const t=u(e);return St(u,e,D,t),t},St=(u,e,D,t)=>{if(!xt(e,D,t))return;const n=Rt(D),r=setTimeout(()=>{u("SIGKILL")},n);r.unref&&r.unref()},xt=(u,{forceKillAfterTimeout:e},D)=>Tt(u)&&e!==!1&&D,Tt=u=>u===Ju.default.constants.signals.SIGTERM||typeof u=="string"&&u.toUpperCase()==="SIGTERM",Rt=({forceKillAfterTimeout:u=!0})=>{if(u===!0)return vt;if(!Number.isFinite(u)||u<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${u}\` (${typeof u})`);return u},Ot=(u,e)=>{u.kill()&&(e.isCanceled=!0)},It=(u,e,D)=>{u.kill(e),D(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Pt=(u,{timeout:e,killSignal:D="SIGTERM"},t)=>{if(e===0||e===void 0)return t;let n;const r=new Promise((i,a)=>{n=setTimeout(()=>{It(u,D,a)},e)}),o=t.finally(()=>{clearTimeout(n)});return Promise.race([r,o])},_t=({timeout:u})=>{if(u!==void 0&&(!Number.isFinite(u)||u<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${u}\` (${typeof u})`)},Lt=async(u,{cleanup:e,detached:D},t)=>{if(!e||D)return t;const n=j.exports(()=>{u.kill()});return t.finally(()=>{n()})};function Nt(u){return u!==null&&typeof u=="object"&&typeof u.pipe=="function"}var M={exports:{}};const{PassThrough:jt}=fu.default;var Gt=u=>{u={...u};const{array:e}=u;let{encoding:D}=u;const t=D==="buffer";let n=!1;e?n=!(D||t):D=D||"utf8",t&&(D=null);const r=new jt({objectMode:n});D&&r.setEncoding(D);let o=0;const i=[];return r.on("data",a=>{i.push(a),n?o=i.length:o+=a.length}),r.getBufferedValue=()=>e?i:t?Buffer.concat(i,o):i.join(""),r.getBufferedLength=()=>o,r};const{constants:Mt}=dD.default,kt=fu.default,{promisify:qt}=pD.default,Ut=Gt,Ht=qt(kt.pipeline);class ye extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Su(u,e){if(!u)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};const{maxBuffer:D}=e,t=Ut(e);return await new Promise((n,r)=>{const o=i=>{i&&t.getBufferedLength()<=Mt.MAX_LENGTH&&(i.bufferedData=t.getBufferedValue()),r(i)};(async()=>{try{await Ht(u,t),n()}catch(i){o(i)}})(),t.on("data",()=>{t.getBufferedLength()>D&&o(new ye)})}),t.getBufferedValue()}M.exports=Su,M.exports.buffer=(u,e)=>Su(u,{...e,encoding:"buffer"}),M.exports.array=(u,e)=>Su(u,{...e,array:!0}),M.exports.MaxBufferError=ye;const{PassThrough:Wt}=fu.default;var Vt=function(){var u=[],e=new Wt({objectMode:!0});return e.setMaxListeners(0),e.add=D,e.isEmpty=t,e.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(D),e;function D(r){return Array.isArray(r)?(r.forEach(D),this):(u.push(r),r.once("end",n.bind(null,r)),r.once("error",e.emit.bind(e,"error")),r.pipe(e,{end:!1}),this)}function t(){return u.length==0}function n(r){u=u.filter(function(o){return o!==r}),!u.length&&e.readable&&e.end()}};const Kt=(u,e)=>{e===void 0||u.stdin===void 0||(Nt(e)?e.pipe(u.stdin):u.stdin.end(e))},zt=(u,{all:e})=>{if(!e||!u.stdout&&!u.stderr)return;const D=Vt();return u.stdout&&D.add(u.stdout),u.stderr&&D.add(u.stderr),D},xu=async(u,e)=>{if(!!u){u.destroy();try{return await e}catch(D){return D.bufferedData}}},Tu=(u,{encoding:e,buffer:D,maxBuffer:t})=>{if(!(!u||!D))return e?M.exports(u,{encoding:e,maxBuffer:t}):M.exports.buffer(u,{maxBuffer:t})},Yt=async({stdout:u,stderr:e,all:D},{encoding:t,buffer:n,maxBuffer:r},o)=>{const i=Tu(u,{encoding:t,buffer:n,maxBuffer:r}),a=Tu(e,{encoding:t,buffer:n,maxBuffer:r}),s=Tu(D,{encoding:t,buffer:n,maxBuffer:r*2});try{return await Promise.all([o,i,a,s])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},xu(u,i),xu(e,a),xu(D,s)])}},Jt=(async()=>{})().constructor.prototype,Xt=["then","catch","finally"].map(u=>[u,Reflect.getOwnPropertyDescriptor(Jt,u)]),be=(u,e)=>{for(const[D,t]of Xt){const n=typeof e=="function"?(...r)=>Reflect.apply(t.value,e(),r):t.value.bind(e);Reflect.defineProperty(u,D,{...t,value:n})}return u},Zt=u=>new Promise((e,D)=>{u.on("exit",(t,n)=>{e({exitCode:t,signal:n})}),u.on("error",t=>{D(t)}),u.stdin&&u.stdin.on("error",t=>{D(t)})}),we=(u,e=[])=>Array.isArray(e)?[u,...e]:[u],Qt=/^[\w.-]+$/,un=/"/g,en=u=>typeof u!="string"||Qt.test(u)?u:`"${u.replace(un,'\\"')}"`,Dn=(u,e)=>we(u,e).join(" "),tn=(u,e)=>we(u,e).map(D=>en(D)).join(" "),nn=1e3*1e3*100,rn=({env:u,extendEnv:e,preferLocal:D,localDir:t,execPath:n})=>{const r=e?{...x.default.env,...u}:u;return D?QD({env:r,cwd:t,execPath:n}):r},on=(u,e,D={})=>{const t=L.exports._parse(u,e,D);return u=t.command,e=t.args,D=t.options,D={maxBuffer:nn,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:D.cwd||x.default.cwd(),execPath:x.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...D},D.env=rn(D),D.stdio=gt(D),x.default.platform==="win32"&&S.default.basename(u,".exe")==="cmd"&&e.unshift("/q"),{file:u,args:e,options:D,parsed:t}},Ru=(u,e,D)=>typeof e!="string"&&!Yu.Buffer.isBuffer(e)?D===void 0?void 0:"":u.stripFinalNewline?XD(e):e;function B(u,e,D){const t=on(u,e,D),n=Dn(u,e),r=tn(u,e);_t(t.options);let o;try{o=cu.default.spawn(t.file,t.args,t.options)}catch(d){const F=new cu.default.ChildProcess,m=Promise.reject(me({error:d,stdout:"",stderr:"",all:"",command:n,escapedCommand:r,parsed:t,timedOut:!1,isCanceled:!1,killed:!1}));return be(F,m)}const i=Zt(o),a=Pt(o,t.options,i),s=Lt(o,t.options,a),l={isCanceled:!1};o.kill=$t.bind(null,o.kill.bind(o)),o.cancel=Ot.bind(null,o,l);const c=Fe(async()=>{const[{error:d,exitCode:F,signal:m,timedOut:y},O,$,X]=await Yt(o,t.options,s),Wu=Ru(t.options,O),Vu=Ru(t.options,$),Ku=Ru(t.options,X);if(d||F!==0||m!==null){const zu=me({error:d,exitCode:F,signal:m,stdout:Wu,stderr:Vu,all:Ku,command:n,escapedCommand:r,parsed:t,timedOut:y,isCanceled:l.isCanceled||(t.options.signal?t.options.signal.aborted:!1),killed:o.killed});if(!t.options.reject)return zu;throw zu}return{command:n,escapedCommand:r,exitCode:0,stdout:Wu,stderr:Vu,all:Ku,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Kt(o,t.options.input),o.all=zt(o,t.options),be(o,c)}const an="known-flag",sn="unknown-flag",cn="argument",{stringify:K}=JSON,ln=/\B([A-Z])/g,fn=u=>u.replace(ln,"-$1").toLowerCase(),{hasOwnProperty:dn}=Object.prototype,z=(u,e)=>dn.call(u,e),Fn=u=>Array.isArray(u),Ae=u=>typeof u=="function"?[u,!1]:Fn(u)?[u[0],!0]:Ae(u.type),Cn=(u,e)=>u===Boolean?e!=="false":e,En=(u,e)=>typeof e=="boolean"?e:u===Number&&e===""?Number.NaN:u(e),pn=/[\s.:=]/,mn=u=>{const e=`Flag name ${K(u)}`;if(u.length===0)throw new Error(`${e} cannot be empty`);if(u.length===1)throw new Error(`${e} must be longer than a character`);const D=u.match(pn);if(D)throw new Error(`${e} cannot contain ${K(D==null?void 0:D[0])}`)},hn=u=>{const e={},D=(t,n)=>{if(z(e,t))throw new Error(`Duplicate flags named ${K(t)}`);e[t]=n};for(const t in u){if(!z(u,t))continue;mn(t);const n=u[t],r=[[],...Ae(n),n];D(t,r);const o=fn(t);if(t!==o&&D(o,r),"alias"in n&&typeof n.alias=="string"){const{alias:i}=n,a=`Flag alias ${K(i)} for flag ${K(t)}`;if(i.length===0)throw new Error(`${a} cannot be empty`);if(i.length>1)throw new Error(`${a} must be a single character`);D(i,r)}}return e},gn=(u,e)=>{const D={};for(const t in u){if(!z(u,t))continue;const[n,,r,o]=e[t];if(n.length===0&&"default"in o){let{default:i}=o;typeof i=="function"&&(i=i()),D[t]=i}else D[t]=r?n:n.pop()}return D},Du="--",Bn=/[.:=]/,yn=/^-{1,2}\w/,bn=u=>{if(!yn.test(u))return;const e=!u.startsWith(Du);let D=u.slice(e?1:2),t;const n=D.match(Bn);if(n){const{index:r}=n;t=D.slice(r+1),D=D.slice(0,r)}return[D,t,e]},wn=(u,{onFlag:e,onArgument:D})=>{let t;const n=(r,o)=>{if(typeof t!="function")return!0;t(r,o),t=void 0};for(let r=0;r<u.length;r+=1){const o=u[r];if(o===Du){n();const a=u.slice(r+1);D==null||D(a,[r],!0);break}const i=bn(o);if(i){if(n(),!e)continue;const[a,s,l]=i;if(l)for(let f=0;f<a.length;f+=1){n();const c=f===a.length-1;t=e(a[f],c?s:void 0,[r,f+1,c])}else t=e(a,s,[r])}else n(o,[r])&&(D==null||D([o],[r]))}n()},An=(u,e)=>{for(const[D,t,n]of e.reverse()){if(t){const r=u[D];let o=r.slice(0,t);if(n||(o+=r.slice(t+1)),o!=="-"){u[D]=o;continue}}u.splice(D,1)}},vn=(u,e=process.argv.slice(2),{ignore:D}={})=>{const t=[],n=hn(u),r={},o=[];return o[Du]=[],wn(e,{onFlag(i,a,s){const l=z(n,i);if(!(D!=null&&D(l?an:sn,i,a))){if(l){const[f,c]=n[i],d=Cn(c,a),F=(m,y)=>{t.push(s),y&&t.push(y),f.push(En(c,m||""))};return d===void 0?F:F(d)}z(r,i)||(r[i]=[]),r[i].push(a===void 0?!0:a),t.push(s)}},onArgument(i,a,s){D!=null&&D(cn,e[a[0]])||(o.push(...i),s?(o[Du]=i,e.splice(a[0])):t.push(a))}}),An(e,t),{flags:gn(u,n),unknownFlags:r,_:o}};var $n=Object.create,tu=Object.defineProperty,Sn=Object.defineProperties,xn=Object.getOwnPropertyDescriptor,Tn=Object.getOwnPropertyDescriptors,Rn=Object.getOwnPropertyNames,ve=Object.getOwnPropertySymbols,On=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Se=(u,e,D)=>e in u?tu(u,e,{enumerable:!0,configurable:!0,writable:!0,value:D}):u[e]=D,nu=(u,e)=>{for(var D in e||(e={}))$e.call(e,D)&&Se(u,D,e[D]);if(ve)for(var D of ve(e))In.call(e,D)&&Se(u,D,e[D]);return u},Ou=(u,e)=>Sn(u,Tn(e)),Pn=u=>tu(u,"__esModule",{value:!0}),_n=(u,e)=>()=>(u&&(e=u(u=0)),e),Ln=(u,e)=>()=>(e||u((e={exports:{}}).exports,e),e.exports),Nn=(u,e,D,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Rn(e))!$e.call(u,n)&&(D||n!=="default")&&tu(u,n,{get:()=>e[n],enumerable:!(t=xn(e,n))||t.enumerable});return u},jn=(u,e)=>Nn(Pn(tu(u!=null?$n(On(u)):{},"default",!e&&u&&u.__esModule?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u),b=_n(()=>{}),Gn=Ln((u,e)=>{b(),e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});b(),b(),b();var Mn=u=>{var e,D,t;let n=(e=process.stdout.columns)!=null?e:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(n)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:n}:{columns:(D=u.columns)!=null?D:[],stdoutColumns:(t=u.stdoutColumns)!=null?t:n}};b(),b(),b(),b(),b();function kn({onlyFirst:u=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,u?void 0:"g")}function xe(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(kn(),"")}b();function qn(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}var Un=jn(Gn(),1);function P(u){if(typeof u!="string"||u.length===0||(u=xe(u),u.length===0))return 0;u=u.replace((0,Un.default)(),"  ");let e=0;for(let D=0;D<u.length;D++){let t=u.codePointAt(D);t<=31||t>=127&&t<=159||t>=768&&t<=879||(t>65535&&D++,e+=qn(t)?2:1)}return e}var Te=u=>Math.max(...u.split(`
`).map(P)),Hn=u=>{let e=[];for(let D of u){let{length:t}=D,n=t-e.length;for(let r=0;r<n;r+=1)e.push(0);for(let r=0;r<t;r+=1){let o=Te(D[r]);o>e[r]&&(e[r]=o)}}return e};b();var Re=/^\d+%$/,Oe={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},Wn=(u,e)=>{var D;let t=[];for(let n=0;n<u.length;n+=1){let r=(D=e[n])!=null?D:"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&Re.test(r)){t.push(Ou(nu({},Oe),{width:r,contentWidth:u[n]}));continue}if(r&&typeof r=="object"){let o=Ou(nu(nu({},Oe),r),{contentWidth:u[n]});o.horizontalPadding=o.paddingLeft+o.paddingRight,t.push(o);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return t};function Vn(u,e){for(let D of u){let{width:t}=D;if(t==="content-width"&&(D.width=D.contentWidth),t==="auto"){let a=Math.min(20,D.contentWidth);D.width=a,D.autoOverflow=D.contentWidth-a}if(typeof t=="string"&&Re.test(t)){let a=Number.parseFloat(t.slice(0,-1))/100;D.width=Math.floor(e*a)-(D.paddingLeft+D.paddingRight)}let{horizontalPadding:n}=D,r=1,o=r+n;if(o>=e){let a=o-e,s=Math.ceil(D.paddingLeft/n*a),l=a-s;D.paddingLeft-=s,D.paddingRight-=l,D.horizontalPadding=D.paddingLeft+D.paddingRight}D.paddingLeftString=D.paddingLeft?" ".repeat(D.paddingLeft):"",D.paddingRightString=D.paddingRight?" ".repeat(D.paddingRight):"";let i=e-D.horizontalPadding;D.width=Math.max(Math.min(D.width,i),r)}}var Ie=()=>Object.assign([],{columns:0});function Kn(u,e){let D=[Ie()],[t]=D;for(let n of u){let r=n.width+n.horizontalPadding;t.columns+r>e&&(t=Ie(),D.push(t)),t.push(n),t.columns+=r}for(let n of D){let r=n.reduce((c,d)=>c+d.width+d.horizontalPadding,0),o=e-r;if(o===0)continue;let i=n.filter(c=>"autoOverflow"in c),a=i.filter(c=>c.autoOverflow>0),s=a.reduce((c,d)=>c+d.autoOverflow,0),l=Math.min(s,o);for(let c of a){let d=Math.floor(c.autoOverflow/s*l);c.width+=d,o-=d}let f=Math.floor(o/i.length);for(let c=0;c<i.length;c+=1){let d=i[c];c===i.length-1?d.width+=o:d.width+=f,o-=f}}return D}function zn(u,e,D){let t=Wn(D,e);return Vn(t,u),Kn(t,u)}b(),b(),b();var Iu=10,Pe=(u=0)=>e=>`\x1B[${e+u}m`,_e=(u=0)=>e=>`\x1B[${38+u};5;${e}m`,Le=(u=0)=>(e,D,t)=>`\x1B[${38+u};2;${e};${D};${t}m`;function Yn(){let u=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[D,t]of Object.entries(e)){for(let[n,r]of Object.entries(t))e[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},t[n]=e[n],u.set(r[0],r[1]);Object.defineProperty(e,D,{value:t,enumerable:!1})}return Object.defineProperty(e,"codes",{value:u,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi=Pe(),e.color.ansi256=_e(),e.color.ansi16m=Le(),e.bgColor.ansi=Pe(Iu),e.bgColor.ansi256=_e(Iu),e.bgColor.ansi16m=Le(Iu),Object.defineProperties(e,{rgbToAnsi256:{value:(D,t,n)=>D===t&&t===n?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:D=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(D.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;n.length===3&&(n=n.split("").map(o=>o+o).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:D=>e.rgbToAnsi256(...e.hexToRgb(D)),enumerable:!1},ansi256ToAnsi:{value:D=>{if(D<8)return 30+D;if(D<16)return 90+(D-8);let t,n,r;if(D>=232)t=((D-232)*10+8)/255,n=t,r=t;else{D-=16;let a=D%36;t=Math.floor(D/36)/5,n=Math.floor(a/6)/5,r=a%6/5}let o=Math.max(t,n,r)*2;if(o===0)return 30;let i=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(t));return o===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(D,t,n)=>e.ansi256ToAnsi(e.rgbToAnsi256(D,t,n)),enumerable:!1},hexToAnsi:{value:D=>e.ansi256ToAnsi(e.hexToAnsi256(D)),enumerable:!1}}),e}var Jn=Yn(),Xn=Jn,ru=new Set(["\x1B","\x9B"]),Zn=39,Pu="\x07",Ne="[",Qn="]",je="m",_u=`${Qn}8;;`,Ge=u=>`${ru.values().next().value}${Ne}${u}${je}`,Me=u=>`${ru.values().next().value}${_u}${u}${Pu}`,ur=u=>u.split(" ").map(e=>P(e)),Lu=(u,e,D)=>{let t=[...e],n=!1,r=!1,o=P(xe(u[u.length-1]));for(let[i,a]of t.entries()){let s=P(a);if(o+s<=D?u[u.length-1]+=a:(u.push(a),o=0),ru.has(a)&&(n=!0,r=t.slice(i+1).join("").startsWith(_u)),n){r?a===Pu&&(n=!1,r=!1):a===je&&(n=!1);continue}o+=s,o===D&&i<t.length-1&&(u.push(""),o=0)}!o&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},er=u=>{let e=u.split(" "),D=e.length;for(;D>0&&!(P(e[D-1])>0);)D--;return D===e.length?u:e.slice(0,D).join(" ")+e.slice(D).join("")},Dr=(u,e,D={})=>{if(D.trim!==!1&&u.trim()==="")return"";let t="",n,r,o=ur(u),i=[""];for(let[s,l]of u.split(" ").entries()){D.trim!==!1&&(i[i.length-1]=i[i.length-1].trimStart());let f=P(i[i.length-1]);if(s!==0&&(f>=e&&(D.wordWrap===!1||D.trim===!1)&&(i.push(""),f=0),(f>0||D.trim===!1)&&(i[i.length-1]+=" ",f++)),D.hard&&o[s]>e){let c=e-f,d=1+Math.floor((o[s]-c-1)/e);Math.floor((o[s]-1)/e)<d&&i.push(""),Lu(i,l,e);continue}if(f+o[s]>e&&f>0&&o[s]>0){if(D.wordWrap===!1&&f<e){Lu(i,l,e);continue}i.push("")}if(f+o[s]>e&&D.wordWrap===!1){Lu(i,l,e);continue}i[i.length-1]+=l}D.trim!==!1&&(i=i.map(s=>er(s)));let a=[...i.join(`
`)];for(let[s,l]of a.entries()){if(t+=l,ru.has(l)){let{groups:c}=new RegExp(`(?:\\${Ne}(?<code>\\d+)m|\\${_u}(?<uri>.*)${Pu})`).exec(a.slice(s).join(""))||{groups:{}};if(c.code!==void 0){let d=Number.parseFloat(c.code);n=d===Zn?void 0:d}else c.uri!==void 0&&(r=c.uri.length===0?void 0:c.uri)}let f=Xn.codes.get(Number(n));a[s+1]===`
`?(r&&(t+=Me("")),n&&f&&(t+=Ge(f))):l===`
`&&(n&&f&&(t+=Ge(n)),r&&(t+=Me(r)))}return t};function tr(u,e,D){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(t=>Dr(t,e,D)).join(`
`)}var ke=u=>Array.from({length:u}).fill("");function nr(u,e){let D=[],t=0;for(let n of u){let r=0,o=n.map(a=>{var s;let l=(s=e[t])!=null?s:"";t+=1,a.preprocess&&(l=a.preprocess(l)),Te(l)>a.width&&(l=tr(l,a.width,{hard:!0}));let f=l.split(`
`);if(a.postprocess){let{postprocess:c}=a;f=f.map((d,F)=>c.call(a,d,F))}return a.paddingTop&&f.unshift(...ke(a.paddingTop)),a.paddingBottom&&f.push(...ke(a.paddingBottom)),f.length>r&&(r=f.length),Ou(nu({},a),{lines:f})}),i=[];for(let a=0;a<r;a+=1){let s=o.map(l=>{var f;let c=(f=l.lines[a])!=null?f:"",d=Number.isFinite(l.width)?" ".repeat(l.width-P(c)):"",F=l.paddingLeftString;return l.align==="right"&&(F+=d),F+=c,l.align==="left"&&(F+=d),F+l.paddingRightString}).join("");i.push(s)}D.push(i.join(`
`))}return D.join(`
`)}function rr(u,e){if(!u||u.length===0)return"";let D=Hn(u),t=D.length;if(t===0)return"";let{stdoutColumns:n,columns:r}=Mn(e);if(r.length>t)throw new Error(`${r.length} columns defined, but only ${t} columns found`);let o=zn(n,r,D);return u.map(i=>nr(o,i)).join(`
`)}b();var or=["<",">","=",">=","<="];function ir(u){if(!or.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}function ar(u){let e=Object.keys(u).map(D=>{let[t,n]=D.split(" ");ir(t);let r=Number.parseInt(n,10);if(Number.isNaN(r))throw new TypeError(`Invalid breakpoint value: ${n}`);let o=u[D];return{operator:t,breakpoint:r,value:o}}).sort((D,t)=>t.breakpoint-D.breakpoint);return D=>{var t;return(t=e.find(({operator:n,breakpoint:r})=>n==="="&&D===r||n===">"&&D>r||n==="<"&&D<r||n===">="&&D>=r||n==="<="&&D<=r))==null?void 0:t.value}}const sr=u=>u.replace(/[-_ ](\w)/g,(e,D)=>D.toUpperCase()),cr=u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),lr={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function fr(u){let e=!1;return{type:"table",data:{tableData:Object.keys(u).sort((t,n)=>t.localeCompare(n)).map(t=>{const n=u[t],r="alias"in n;return r&&(e=!0),{name:t,flag:n,flagFormatted:`--${cr(t)}`,aliasesEnabled:e,aliasFormatted:r?`-${n.alias}`:void 0}}).map(t=>(t.aliasesEnabled=e,[{type:"flagName",data:t},{type:"flagDescription",data:t}])),tableBreakpoints:lr}}}const qe=u=>{var e;return!u||((e=u.version)!=null?e:u.help?u.help.version:void 0)},Ue=u=>{var D;const e="parent"in u&&((D=u.parent)==null?void 0:D.name);return(e?`${e} `:"")+u.name};function dr(u){var t;const e=[];u.name&&e.push(Ue(u));const D=(t=qe(u))!=null?t:"parent"in u&&qe(u.parent);if(D&&e.push(`v${D}`),e.length!==0)return{id:"name",type:"text",data:`${e.join(" ")}
`}}function Fr(u){const{help:e}=u;if(!(!e||!e.description))return{id:"description",type:"text",data:`${e.description}
`}}function Cr(u){var D;const e=u.help||{};if("usage"in e)return e.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(e.usage)?e.usage.join(`
`):e.usage}}:void 0;if(u.name){const t=[],n=[Ue(u)];if(u.flags&&Object.keys(u.flags).length>0&&n.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:r}=u,o=r.indexOf("--"),i=o>-1&&r.slice(o+1).some(a=>a.startsWith("<"));n.push(r.map(a=>a!=="--"?a:i?"--":"[--]").join(" "))}if(n.length>1&&t.push(n.join(" ")),"commands"in u&&((D=u.commands)==null?void 0:D.length)&&t.push(`${u.name} <command>`),t.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:t.join(`
`)}}}}function Er(u){var D;return!("commands"in u)||!((D=u.commands)!=null&&D.length)?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(t=>[t.options.name,t.options.help?t.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function pr(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:fr(u.flags),indentBody:0}}}function mr(u){const{help:e}=u;if(!e||!e.examples||e.examples.length===0)return;let{examples:D}=e;if(Array.isArray(D)&&(D=D.join(`
`)),D)return{id:"examples",type:"section",data:{title:"Examples:",body:D}}}function hr(u){if(!("alias"in u)||!u.alias)return;const{alias:e}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(e)?e.join(", "):e}}}const gr=u=>[dr,Fr,Cr,Er,pr,mr,hr].map(e=>e(u)).filter(Boolean),Br=Xu.default.WriteStream.prototype.hasColors();class yr{text(e){return e}bold(e){return Br?`\x1B[1m${e}\x1B[22m`:e.toLocaleUpperCase()}indentText({text:e,spaces:D}){return e.replace(/^/gm," ".repeat(D))}heading(e){return this.bold(e)}section({title:e,body:D,indentBody:t=2}){return`${(e?`${this.heading(e)}
`:"")+(D?this.indentText({text:this.render(D),spaces:t}):"")}
`}table({tableData:e,tableOptions:D,tableBreakpoints:t}){return rr(e.map(n=>n.map(r=>this.render(r))),t?ar(t):D)}flagParameter(e){return e===Boolean?"":e===String?"<string>":e===Number?"<number>":Array.isArray(e)?this.flagParameter(e[0]):"<value>"}flagOperator(e){return" "}flagName(e){const{flag:D,flagFormatted:t,aliasesEnabled:n,aliasFormatted:r}=e;let o="";if(r?o+=`${r}, `:n&&(o+="    "),o+=t,"placeholder"in D&&typeof D.placeholder=="string")o+=`${this.flagOperator(e)}${D.placeholder}`;else{const i=this.flagParameter("type"in D?D.type:D);i&&(o+=`${this.flagOperator(e)}${i}`)}return o}flagDefault(e){return JSON.stringify(e)}flagDescription({flag:e}){var t;let D="description"in e&&(t=e.description)!=null?t:"";if("default"in e){let{default:n}=e;typeof n=="function"&&(n=n()),n&&(D+=` (default: ${this.flagDefault(n)})`)}return D}render(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(D=>this.render(D)).join(`
`);if("type"in e&&this[e.type]){const D=this[e.type];if(typeof D=="function")return D.call(this,e.data)}throw new Error(`Invalid node type: ${JSON.stringify(e)}`)}}const Nu=/^[\w.-]+$/,{stringify:v}=JSON,br=/[|\\{}()[\]^$+*?.]/;function ju(u){const e=[];let D,t;for(const n of u){if(t)throw new Error(`Invalid parameter: Spread parameter ${v(t)} must be last`);const r=n[0],o=n[n.length-1];let i;if(r==="<"&&o===">"&&(i=!0,D))throw new Error(`Invalid parameter: Required parameter ${v(n)} cannot come after optional parameter ${v(D)}`);if(r==="["&&o==="]"&&(i=!1,D=n),i===void 0)throw new Error(`Invalid parameter: ${v(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=n.slice(1,-1);const s=a.slice(-3)==="...";s&&(t=n,a=a.slice(0,-3));const l=a.match(br);if(l)throw new Error(`Invalid parameter: ${v(n)}. Invalid character found ${v(l[0])}`);e.push({name:a,required:i,spread:s})}return e}function Gu(u,e,D,t){for(let n=0;n<e.length;n+=1){const{name:r,required:o,spread:i}=e[n],a=sr(r);if(a in u)throw new Error(`Invalid parameter: ${v(r)} is used more than once.`);const s=i?D.slice(n):D[n];if(i&&(n=e.length),o&&(!s||i&&s.length===0))return console.error(`Error: Missing required parameter ${v(r)}
`),t(),process.exit(1);u[a]=s}}function wr(u){return u===void 0||u!==!1}function He(u,e,D,t){const n={...e.flags},r=e.version;r&&(n.version={type:Boolean,description:"Show version"});const{help:o}=e,i=wr(o);i&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const a=vn(n,t,{ignore:e.ignoreArgv}),s=()=>{console.log(e.version)};if(r&&a.flags.version===!0)return s(),process.exit(0);const l=new yr,f=i&&(o==null?void 0:o.render)?o.render:F=>l.render(F),c=F=>{const m=gr({...e,...F?{help:F}:{},flags:n});console.log(f(m,l))};if(i&&a.flags.help===!0)return c(),process.exit(0);if(e.parameters){let{parameters:F}=e,m=a._;const y=F.indexOf("--"),O=F.slice(y+1),$=Object.create(null);if(y>-1&&O.length>0){F=F.slice(0,y);const X=a._["--"];m=m.slice(0,-X.length||void 0),Gu($,ju(F),m,c),Gu($,ju(O),X,c)}else Gu($,ju(F),m,c);Object.assign(a._,$)}const d={...a,showVersion:s,showHelp:c};return typeof D=="function"&&D(d),{command:u,...d}}function Ar(u,e){const D=new Map;for(const t of e){const n=[t.options.name],{alias:r}=t.options;r&&(Array.isArray(r)?n.push(...r):n.push(r));for(const o of n){if(D.has(o))throw new Error(`Duplicate command name found: ${v(o)}`);D.set(o,t)}}return D.get(u)}function vr(u,e,D=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!Nu.test(u.name)))throw new Error(`Invalid script name: ${v(u.name)}`);const t=D[0];if(u.commands&&Nu.test(t)){const n=Ar(t,u.commands);if(n)return He(n.options.name,{...n.options,parent:u},n.callback,D.slice(1))}return He(void 0,u,e,D)}function $r(u,e){if(!u)throw new Error("Command options are required");const{name:D}=u;if(u.name===void 0)throw new Error("Command name is required");if(!Nu.test(D))throw new Error(`Invalid command name ${JSON.stringify(D)}. Command names must be one word.`);return{options:u,callback:e}}let _=!0;const k=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let We=0;if(k.process&&k.process.env&&k.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:e,TERM:D}=k.process.env;e||u==="0"?_=!1:u==="1"?_=!0:D==="dumb"?_=!1:"CI"in k.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(t=>t in k.process.env)?_=!0:_=process.stdout.isTTY,_&&(We=D&&D.endsWith("-256color")?2:1)}let Ve={enabled:_,supportLevel:We};function Mu(u,e,D=1){const t=`\x1B[${u}m`,n=`\x1B[${e}m`,r=new RegExp(`\\x1b\\[${e}m`,"g");return o=>Ve.enabled&&Ve.supportLevel>=D?t+(""+o).replace(r,t)+n:""+o}const Ke=Mu(31,39),ze=Mu(32,39),ou=Mu(90,39);var Sr="0.0.0-semantic-release",xr="Squash commits in a Git branch or pull-request";const{stringify:iu}=JSON,Tr=async()=>{const{stdout:u}=await B("git",["--no-pager","log","-1","--pretty=%B"]);return u},Rr=async u=>{var e;const{stdout:D}=await B("git",["remote","show",u],{env:{LC_ALL:"C"},reject:!1});return(e=D.match(/ {2}HEAD branch: (.*)/))==null?void 0:e[1]},Ye=async()=>{const{stdout:u}=await B("git",["status","--porcelain","--untracked-files=no"]).catch(e=>{throw e.stderr.includes("not a git repository")?new Error("Not in a git repository"):e});if(u)throw new Error("Working tree is not clean")},Je=async(u,e)=>{const{stdout:D}=await B("git",["merge-base",u,"HEAD"]);await B("git",["reset","--soft",D]),await B("git",["commit","--no-verify","--message",e])},E="\x1B[",Y="\x1B]",q="\x07",au=";",Xe=process.env.TERM_PROGRAM==="Apple_Terminal",C={};C.cursorTo=(u,e)=>{if(typeof u!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?E+(u+1)+"G":E+(e+1)+";"+(u+1)+"H"},C.cursorMove=(u,e)=>{if(typeof u!="number")throw new TypeError("The `x` argument is required");let D="";return u<0?D+=E+-u+"D":u>0&&(D+=E+u+"C"),e<0?D+=E+-e+"A":e>0&&(D+=E+e+"B"),D},C.cursorUp=(u=1)=>E+u+"A",C.cursorDown=(u=1)=>E+u+"B",C.cursorForward=(u=1)=>E+u+"C",C.cursorBackward=(u=1)=>E+u+"D",C.cursorLeft=E+"G",C.cursorSavePosition=Xe?"\x1B7":E+"s",C.cursorRestorePosition=Xe?"\x1B8":E+"u",C.cursorGetPosition=E+"6n",C.cursorNextLine=E+"E",C.cursorPrevLine=E+"F",C.cursorHide=E+"?25l",C.cursorShow=E+"?25h",C.eraseLines=u=>{let e="";for(let D=0;D<u;D++)e+=C.eraseLine+(D<u-1?C.cursorUp():"");return u&&(e+=C.cursorLeft),e},C.eraseEndLine=E+"K",C.eraseStartLine=E+"1K",C.eraseLine=E+"2K",C.eraseDown=E+"J",C.eraseUp=E+"1J",C.eraseScreen=E+"2J",C.scrollUp=E+"S",C.scrollDown=E+"T",C.clearScreen="\x1Bc",C.clearTerminal=process.platform==="win32"?`${C.eraseScreen}${E}0f`:`${C.eraseScreen}${E}3J${E}H`,C.beep=q,C.link=(u,e)=>[Y,"8",au,au,e,q,u,Y,"8",au,au,q].join(""),C.image=(u,e={})=>{let D=`${Y}1337;File=inline=1`;return e.width&&(D+=`;width=${e.width}`),e.height&&(D+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(D+=";preserveAspectRatio=0"),D+":"+u.toString("base64")+q},C.iTerm={setCwd:(u=process.cwd())=>`${Y}50;CurrentDir=${u}${q}`,annotation:(u,e={})=>{let D=`${Y}1337;`;const t=typeof e.x<"u",n=typeof e.y<"u";if((t||n)&&!(t&&n&&typeof e.length<"u"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return u=u.replace(/\|/g,""),D+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?D+=(t?[u,e.length,e.x,e.y]:[e.length,u]).join("|"):D+=u,D+q}};var Ze=(u,e=process.argv)=>{const D=u.startsWith("-")?"":u.length===1?"-":"--",t=e.indexOf(D+u),n=e.indexOf("--");return t!==-1&&(n===-1||t<n)};const Or=Ju.default,Qe=Xu.default,A=Ze,{env:h}=process;let R;A("no-color")||A("no-colors")||A("color=false")||A("color=never")?R=0:(A("color")||A("colors")||A("color=true")||A("color=always"))&&(R=1),"FORCE_COLOR"in h&&(h.FORCE_COLOR==="true"?R=1:h.FORCE_COLOR==="false"?R=0:R=h.FORCE_COLOR.length===0?1:Math.min(parseInt(h.FORCE_COLOR,10),3));function ku(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function qu(u,e){if(R===0)return 0;if(A("color=16m")||A("color=full")||A("color=truecolor"))return 3;if(A("color=256"))return 2;if(u&&!e&&R===void 0)return 0;const D=R||0;if(h.TERM==="dumb")return D;if(process.platform==="win32"){const t=Or.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in h)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(t=>t in h)||h.CI_NAME==="codeship"?1:D;if("TEAMCITY_VERSION"in h)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(h.TEAMCITY_VERSION)?1:0;if(h.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in h){const t=parseInt((h.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(h.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(h.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(h.TERM)||"COLORTERM"in h?1:D}function Ir(u){const e=qu(u,u&&u.isTTY);return ku(e)}var Pr={supportsColor:Ir,stdout:ku(qu(!0,Qe.isatty(1))),stderr:ku(qu(!0,Qe.isatty(2)))};const _r=Pr,U=Ze;function uD(u){if(/^\d{3,4}$/.test(u)){const D=/(\d{1,2})(\d{2})/.exec(u);return{major:0,minor:parseInt(D[1],10),patch:parseInt(D[2],10)}}const e=(u||"").split(".").map(D=>parseInt(D,10));return{major:e[0],minor:e[1],patch:e[2]}}function Uu(u){const{env:e}=process;if("FORCE_HYPERLINK"in e)return!(e.FORCE_HYPERLINK.length>0&&parseInt(e.FORCE_HYPERLINK,10)===0);if(U("no-hyperlink")||U("no-hyperlinks")||U("hyperlink=false")||U("hyperlink=never"))return!1;if(U("hyperlink=true")||U("hyperlink=always")||"NETLIFY"in e)return!0;if(!_r.supportsColor(u)||u&&!u.isTTY||process.platform==="win32"||"CI"in e||"TEAMCITY_VERSION"in e)return!1;if("TERM_PROGRAM"in e){const D=uD(e.TERM_PROGRAM_VERSION);switch(e.TERM_PROGRAM){case"iTerm.app":return D.major===3?D.minor>=1:D.major>3;case"WezTerm":return D.major>=20200620;case"vscode":return D.major>1||D.major===1&&D.minor>=72}}if("VTE_VERSION"in e){if(e.VTE_VERSION==="0.50.0")return!1;const D=uD(e.VTE_VERSION);return D.major>0||D.minor>=50}return!1}var Hu={supportsHyperlink:Uu,stdout:Uu(process.stdout),stderr:Uu(process.stderr)};function J(u,e,{target:D="stdout",...t}={}){return Hu[D]?C.link(u,e):t.fallback===!1?u:typeof t.fallback=="function"?t.fallback(u,e):`${u} (\u200B${e}\u200B)`}J.isSupported=Hu.stdout,J.stderr=(u,e,D={})=>J(u,e,{target:"stderr",...D}),J.stderr.isSupported=Hu.stderr;const Lr=async()=>{const{failed:u,stdout:e}=await B("gh",["--version"],{reject:!1});if(u||!e.includes("https://github.com/cli/cli/releases/tag/"))throw new Error("You must have GitHub CLI installed to use this command: https://cli.github.com")},Nr=["title","baseRefName","headRefName","headRefOid","url"],jr=async u=>{const{stdout:e}=await B("gh",["pr","view",u,"--json",Nr.join(",")]);return JSON.parse(e)},Gr=$r({name:"pr",parameters:["<number>"],flags:{remote:{type:String,alias:"r",description:"Remote to fetch from",default:"origin"},message:{type:String,alias:"m",description:"Message for the squash commit (defaults to PR title)"}}},u=>{(async()=>{await Ye(),await Lr();const{remote:e}=u.flags,D=u._.number,t=await H.default(`Fetching PR #${D}`,()=>jr(D));t.clear();const{stdout:n}=await B("git",["branch","--show-current"]),{baseRefName:r,headRefName:o,headRefOid:i,title:a,url:s}=t.result,l=u.flags.message||a;(await H.default(`Fetching branches from remote ${iu(e)}`,()=>B("git",["fetch",e,r,o]))).clear();const c=`${n}_${Date.now()}`;try{const d=`${e}/${o}`;await B("git",["checkout",d,"-b",c]),(await H.default("Squashing PR",()=>Je(`${e}/${r}`,l))).clear(),(await H.default(`Pushing to remote ${iu(e)}`,()=>B("git",["push","--no-verify","-f",e,`${c}:${o}`]))).clear()}finally{(await H.default(`Switching branch back to ${iu(n)}`,async()=>{await B("git",["reset","--hard"]),await B("git",["checkout","-f",n]),await B("git",["branch","-D",c])})).clear()}console.log(`${ze("\u2714")} Successfully squashed ${J(`PR #${D}`,s)} with message:
${ou(l)}

To revert the PR back to the original commit:
${ou(`git push -f ${e} ${i}:${o}`)}`)})().catch(e=>{console.error(`${Ke("\u2716")} ${e.message}`),process.exitCode=1})});vr({name:"git-squash-branch",version:Sr,flags:{remote:{type:String,alias:"r",description:"Remote to fetch from",default:"origin"},base:{type:String,alias:"b",description:'Base branch to compare against. If not specified, will try to detect it from remote "origin".'},message:{type:String,alias:"m",description:"Message for the squash commit (defaults to last commit message)"}},help:{description:xr},commands:[Gr]},u=>{(async()=>{var e;await Ye();let{base:D}=u.flags;if(!D){const r=await Rr(u.flags.remote);r&&(await mD.default({type:"confirm",name:"confirmed",message:`Use branch ${iu(r)}? (y/n)`})).confirmed&&(D=r)}if(!D)throw new Error("Missing base branch. Specify it manually with the --base flag.");const[{stdout:t},n]=await Promise.all([B("git",["rev-parse","HEAD"]),(e=u.flags.message)!=null?e:await Tr()]);await Je(D,n),console.log(`${ze("\u2714")} Successfully squashed with message:
${ou(n)}

To revert back to the original commit:
${ou(`git reset --hard ${t}`)}`)})().catch(e=>{console.error(`${Ke("\u2716")} ${e.message}`),process.exitCode=1})});
